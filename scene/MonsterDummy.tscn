[gd_scene load_steps=4 format=3 uid="uid://vrqpnkgwdegm"]

[ext_resource type="Texture2D" uid="uid://b1fm38k3hepbb" path="res://shitou.png" id="2_73p53"]

[sub_resource type="GDScript" id="GDScript_o0ahc"]
script/source = "extends CharacterBody2D

@export var hp: int = 5

func _ready() -> void:
	add_to_group(\"monster\")

# Player 链子命中后会调用
# 返回：0=普通受击；1=虚弱可链接；2=无效
func on_chain_hit(_player: Node, _chain_index: int, _hit_world: Vector2) -> int:
	hp -= 1
	print(\"[MonsterDummy] hit! hp=\", hp)
	if hp <= 1:
		print(\"[MonsterDummy] WEAK now (hp<=1) => return 1\")
		return 1
	return 0
"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_2vxcx"]
size = Vector2(29.333344, 19.059856)

[node name="Dummy" type="CharacterBody2D"]
position = Vector2(2, 1)
script = SubResource("GDScript_o0ahc")

[node name="Sprite2D" type="Sprite2D" parent="."]
position = Vector2(-3.2500043, -18.5)
scale = Vector2(0.428125, 0.41111112)
texture = ExtResource("2_73p53")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(-3.3057683, -20.48738)
rotation = 0.0028985366
shape = SubResource("RectangleShape2D_2vxcx")
