# Beehave 敌人行为设计指南

> 复制"空白模板"，按"书写规则"填好，连同本文档和 `BEEHAVE_REFERENCE.md` 一起交给 AI，AI 即可构建行为树。

---

## 格式说明

使用缩进键值对，不需要懂任何编程语言：

```
字段名: 值
嵌套内容:               ← 冒号后不写值，下面缩进写子项
  子字段: 值
列表:                   ← 用 - 开头
  - 第一条
  - 第二条
```

**标记约定：**
- `(必填)` = 必须填写
- `(Boss专用)` = 普通怪物跳过
- `(可选)` = 不需要就删掉整行
- `//` 后面是注释提示，填完可删

---

## 字段释义

### 防御模式（Boss专用）

| 模式 | 含义 | 锁链效果 | 鬼拳效果 |
|------|------|---------|---------|
| 普通 | 无防御 | 正常伤害 | 正常伤害+硬直 |
| 格挡 | 挡住普通攻击 | 0伤害，弹开 | 穿透，正常伤害 |
| 盔甲 | 免疫非穿透攻击 | 0伤害 | 穿透时正常伤害 |
| 霸体 | 受伤但不被打断 | 正常伤害 | 正常伤害，不硬直 |
| 无敌 | 过场用，完全无敌 | 0伤害 | 0伤害 |

### 命中效果

| 效果 | 含义 |
|------|------|
| 无 | 只扣血 |
| 硬直 | 短暂冻住玩家 |
| 击退 | 推开玩家 |
| 穿透 | 无视玩家防御 |

### 受击反应

| 反应 | 含义 |
|------|------|
| 闪白 | 白光反馈，不影响动作 |
| 硬直 | 短暂停顿，打断当前动作 |
| 弹开 | 攻击无效，武器被弹回 |
| 破防 | 防御被打破 |

---

## 空白模板

```
========================================
敌人行为规范
========================================

【基础信息】
名称:                          // (必填)
代码名:                        // (必填) 英文，如 AbyssGuard
类型: 怪物                     // (必填) 怪物 | 奇美拉 | Boss
属性: 暗                       // (必填) 普通 | 光 | 暗
体型: 中                       // (必填) 小 | 中 | 大
物种ID:                        // (必填) 英文蛇形，如 abyss_guard
移动方式: 地面                 // (必填) 地面 | 飞行 | 固定
移动速度: 100                  // (必填) 像素/秒
最大HP: 10
虚弱阈值: 2                    // 0 = 无虚弱状态
泯灭次数: 1                    // 0 = 不可泯灭

----------------------------------------

【阶段】(Boss专用，普通怪物删除本节)

阶段1:
  名称: 常规战斗
  HP区间: 100%~60%
  默认防御: 普通               // 普通 | 格挡 | 盔甲 | 霸体 | 无敌
  入场动画:                    // 留空 = 无过场
  入场无敌: 否

阶段2:
  名称:
  HP区间:
  默认防御:
  入场动画:
  入场无敌:

阶段3:
  名称:
  HP区间:
  默认防御:
  入场动画:
  入场无敌:

----------------------------------------

【技能列表】

技能: (技能名称)
  优先级:                      // 1~99，越小越优先
  所属阶段: 全部               // 全部 | 阶段1 | 阶段1,阶段2
  触发条件:
    - (条件1，如：水平距离 < 80px)
    - (条件2，如：冷却 2.5秒)
  伤害: (X点)                  // 无伤害写"无"
  命中效果:                    // 无 | 硬直 | 击退 | 穿透
  投射物:                      // (可选) 速度X, 场景名
  动画: (动画名), (时长), 不循环
  时间轴:
    - (X秒)  (发生什么事)
    - (X秒)  开启hitbox(hitbox名称)
    - (X秒)  关闭hitbox
    - (X秒)  动画结束
  可打断:
    蓄力阶段:                  // 可打断 | 不可打断
    攻击阶段:
    收招阶段:
  施放时移动:                  // 无 | 向前冲刺Xpx | 后跳Xpx
  特殊效果:                    // (可选) 屏幕震动、特效等

行为: 追击玩家
  优先级: 10
  所属阶段: 全部
  触发条件:
    - 感知范围 Xpx 内有玩家
  动画: run, 循环
  移动: 朝玩家移动, 速度X, 到Xpx处停下

行为: 巡逻
  优先级: 99
  所属阶段: 全部
  触发条件: 无
  动画: walk, 循环
  移动: 碰墙转向, 速度X

----------------------------------------

【受击反应】

被锁链命中:
  普通状态: 1点伤害, 闪白
  虚弱状态: 不扣血, 闪白, 可链接
  格挡状态:                    // (Boss专用)
  盔甲状态:                    // (Boss专用)

被鬼拳命中:
  普通状态: 1点伤害, 硬直0.1秒
  虚弱状态: 不扣血, 硬直0.1秒
  格挡状态:                    // (Boss专用)
  盔甲状态:                    // (Boss专用)

被剑/刀命中:
  普通状态: 1点伤害, 闪白
  格挡状态:                    // (Boss专用)
  盔甲状态:                    // (Boss专用)

被雷击/治愈爆发:              // (可选)
  眩晕:
  无视格挡:

----------------------------------------

【动画清单】(可选)

通用:
  - idle: 待机, 循环
  - walk: 行走, 循环
  - run: 跑步, 循环

受击:
  - hurt: 受击, X秒, 可被覆盖
  - death: 死亡, X秒, 必须播完
  - stagger: 硬直, X秒, 必须播完

阶段过渡:                     // (Boss专用)
  - (动画名): (描述), X秒, 必须播完, 播放期间无敌

技能:
  - (动画名): (描述), X秒

========================================
```

---

## 书写规则

1. **优先级**：1~9 给技能，10~20 给追击，99 给巡逻（兜底）
2. **触发条件**：自然语言，每行一个 `-`，常见写法：
   - `水平距离 < 80px` / `水平距离 > 100px 且 < 300px`
   - `冷却 3秒`
   - `感知范围 500px 内有玩家`
   - `玩家正在攻击` / `Boss血量 < 30%`
3. **距离一律写水平距离**（横版2D不算Y轴）
4. **时间轴**：按时间顺序写关键事件，常见写法：
   - `开启hitbox(名称)` / `关闭hitbox`
   - `发射子弹` / `生成召唤物`
   - `开启格挡模式` / `关闭格挡模式`
   - `动画结束`
5. **可打断性**：分蓄力/攻击/收招三阶段；简写 `全程: 可打断` 也行
6. **受击反应**：只写和默认行为不同的部分，默认 = 闪白+扣血
7. **追击到达后不要结束**：写"到Xpx处停下"即可，AI 知道要保持等待状态
8. **普通怪物**：删掉所有标注 `(Boss专用)` 的部分

---

*配套文档：`BEEHAVE_REFERENCE.md` — Beehave 2.9.x API 参考*
